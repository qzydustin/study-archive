/*
 * File: globalopt-03
 * Tests: dead code elimination involving arithmetic expressions but for
 * a single basic block
 *
 * All the assignments to y are dead
 *
 */

extern void println(int x);

void main(void) {
    int x, y;
    x = 12;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;

    x = x + x*2;    /* this should not get optimized away */

    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;
    y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2; y = x+y*2;  

    println(x);  
}

